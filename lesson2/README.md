# Lesson 2 tasks

## A. Количество максимумов на отрезке
Реализуйте структуру данных для эффективного вычисления максимального значения из нескольких подряд идущих элементов массива, а также количества элементов, равных максимальному на данном отрезке.

### Формат ввода
В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100 000) — количество чисел в массиве.  

Во второй строке вводятся N чисел от 1 до 100000 — элементы массива.

В третьей строке вводится одно натуральное число K (1 ≤ K ≤ 30 000) — количество запросов на вычисление максимума.

В следующих K строках вводится по два числа — номера левого и правого элементов отрезка массива (считается, что элементы массива нумеруются с единицы).

### Формат вывода
Для каждого запроса выведите в отдельной строке через пробел значение максимального элемента на указанном отрезке массива и количество максимальных элементов на этом отрезке.

#### Пример
| Ввод      | Вывод |
| --------- | ----- |
| 5         |       |
| 2 2 2 1 5 |       |
| 2         |       |
| 2 3       | 2 2   |
| 2 5       | 5 1   |

## B. Индекс максимума на отрезке
Реализуйте структуру данных для эффективного вычисления номера максимального из нескольких подряд идущих элементов массива.

### Формат ввода
В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100 000) — количество чисел в массиве.  

Во второй строке вводятся N чисел от 1 до 100000 — элементы массива.

В третьей строке вводится одно натуральное число K (1 ≤ K ≤ 300 000) — количество запросов на вычисление максимума.

В следующих K строках вводится по два числа — номера левого и правого элементов отрезка массива (считается, что элементы массива нумеруются с единицы).

### Формат вывода
Для каждого запроса выведите индекс максимального элемента на указанном отрезке массива. Если максимальных элементов несколько, выведите любой их них.

Числа выводите по одному в строке.

#### Пример
| Ввод      | Вывод |
| --------- | ----- |
| 5         |       |
| 2 2 2 1 5 |       |
| 2         |       |
| 2 3       | 3     |
| 2 5       | 5     |

## C. Максимум и индекс максимума на отрезке
Реализуйте структуру данных, которая на данном массиве из N целых чисел позволяет узнать максимальное значение на этом массиве и индекс элемента, на котором достигается это максимальное значение.

### Формат ввода
В первой строке вводится натуральное число N (1 ≤ N ≤ 10^5) — количество элементов в массиве. В следующей строке содержатся N целых чисел, не превосходящих по модулю 10^9 — элементы массива. Гарантируется, что в массиве нет одинаковых элементов. Далее идет число K (0 ≤ K ≤ 10^5) — количество запросов к структуре данных. Каждая из следующих K строк содержит два целых числа l и r (1 ≤ l ≤ r ≤ N) — левую и правую границы отрезка в массиве для данного запроса.

### Формат вывода
Для каждого из запросов выведите два числа: наибольшее значение среди элементов массива на отрезке от l до r и индекс одного из элементов массива, принадлежащий отрезку от l до r, на котором достигается этот максимум.

#### Пример
| Ввод      | Вывод |
| --------- | ----- |
| 5         |       |
| 7 3 1 6 4 |       |
| 3         |       |
| 1 5       | 7 1   |
| 2 4       | 6 4   |
| 3 3       | 1 3   |

## D. Максимум на подотрезках с изменением элемента
Реализуйте эффективную структуру данных, позволяющую изменять элементы массива и вычислять максимальное значение из нескольких подряд идущих элементов.

### Формат ввода
В первой строке вводится одно натуральное число N (1 ≤ N ≤ 100 000) — количество чисел в массиве.

Во второй строке вводятся N чисел от 0 до 100000 — элементы массива.

В третьей строке вводится одно натуральное число M (1 ≤ M ≤ 30000) — количество запросов.

Каждая из следующих M строк представляет собой описание запроса. Сначала вводится одна буква, кодирующая вид запроса (s — вычислить максимум, u — обновить значение элемента).

Следом за s вводятся два числа — номера левой и правой границы отрезка.

Следом за u вводятся два числа — номер элемента и его новое значение.

### Формат вывода
Для каждого запроса s выведите результат. Все числа выводите в одну строку через пробел.

#### Пример
| Ввод      | Вывод   |
| --------- | ------- |
| 5         | 5 10 12 |
| 1 2 3 4 5 |         |
| 5         |         |
| s 1 5     |         |
| u 3 10    |         |
| s 1 5     |         |
| u 2 12    |         |
| s 1 3     |         |

## E. K-й ноль
Реализуйте эффективную структуру данных, позволяющую изменять элементы массива и вычислять индекс k-го слева нуля на данном отрезке в массиве.

### Формат ввода
В первой строке вводится одно натуральное число N (1 ≤ N ≤ 200000) — количество чисел в массиве. Во второй строке вводятся N чисел от 0 до 100 000 — элементы массива. В третьей строке вводится одно натуральное число M (1 ≤ M ≤ 200 000) — количество запросов. Каждая из следующих M строк представляет собой описание запроса. Cначала вводится одна буква, кодирующая вид запроса (s — вычислить индекс k-го нуля, u — обновить значение элемента). Следом за s вводится три числа — левый и правый концы отрезка и число k (1 ≤ k ≤ N). Следом за u вводятся два числа — номер элемента и его новое значение.

### Формат вывода
Для каждого запроса s выведите результат. Все числа выводите в одну строку через пробел.

#### Пример
| Ввод      | Вывод   |
| --------- | ------- |
| 5         | 4       |
| 0 0 3 0 2 |         |
| 3         |         |
| u 1 5     |         |
| u 1 0     |         |
| s 1 5 3   |         |